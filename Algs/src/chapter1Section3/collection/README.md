# 集合
> 许多基础的数据类型都和对象的集合有关（数据类型的值就是一组对象的集合），所有的操作都是关于添加，修改或是访问集合中的对象

本次主要涉及到三个这样的数据类型（`背包（Bag）` `队列（Queue）` `栈（Stack）`）

### 共通点
* 无参构造函数
* 添加单个元素的方法
* 判断集合是否为空的方法
* 返回集合大小的方法
> `Stack` `Queue` 中还含有删除集合中特定元素的方法

### 泛型
泛型是集合抽象数据类型的一个关键特性，使得我们可以用它们来存储任意的数据类型。它被成为是泛型或参数化类型

创建泛型数组在 `Java` 里面是不被许可的，通常需要使用强制类型转换
```java
Item[] array = (Item[]) new Object[cap];
```

### 迭代
有某种方式处理集合中的每一个元素（迭代访问）
> 可迭代即可以使用 `foreach` 语句

## 背包
背包是一种不支持删除的数据类型，目的收集元素并遍历（顺序随机）

## 先进先出队列
保存元素的同时也保存元素的相对顺序

## 下压栈
处理顺序和保存的顺序相反

##  定容栈
只能处理 `String` 类型，指定容量且不支持迭代

> 对象游离，`Java` 垃圾回收是为了回收所有无法被访问的内存。而在 `pop()` 中弹出的元素引用任然存在，我们需要将该引用覆盖（赋值位 `null`）

## 迭代
能够使用 `foreach` 语句循环遍历集合中的每一个元素
`foreach` 语句可以理解位等同于 `while` 语句

集合数据类型必须实现一个 `iterator()` 方法，并返回一个 `Iterator` 对象
`Iterator` 必须包含两种方法：`hasNext()`(返回一个 `boolean` 值)，`next()` （返回集合的一个泛型元素）
> 数组是一个特殊的情况，其虽然没有实现 `iterator` 但是它可以使用 `foreach` 迭代访问其中的元素 

## 链表
链表是一种递归的数据结构，它或者为空，或者指向一个结点（`node`）的引用，该结点含有一个泛型元素和指向另一条链表的引用

用嵌套类来定义结点的抽象数据类型
```java
private class Node{
    Item item;
    Node next;
}
```

# 附加
不是所有编程语言支持泛型，替代方案：
1. 为每种数据类型提供实现一个不同集合的数据类型
2. 构造一个 `Object` 对象栈，并使用 `pop()` 将得到的对象转换成需要的数据类型

> 泛型在编译时能帮助我们发现错误

### 创建字符串栈数组
```java
Stack<String>[] stack = (Stack<String>[]) new Stack[N];
```

## 1.3.46
栈中生成问题禁止出现的排列

如果出现 `abc---` 的排序，最终生成排序的结果为 `cba` 不符合条件

## 1.3.49
使用有限个栈实现一个队列，保证每个队列都只需要常数次的操作

### 常规操作
一个栈作为缓冲区（`head`），另一个存储数据（`tail`）；操作效率为 `O（n）`
> 解决思路：确保尾部栈的元素时刻最少，而头部元素最多

* 头部栈副本
    * 保证尾部时刻在向头部栈中放入元素，一个头部栈为空时，更换另一个
    
* 尾部栈副本
    * 防止突然进入元素导致原有的顺序被打破
*  头尾副本二
    * 解决一直长时间进队列，导致尾部过长，无法出队列
* 头部副本三
    * 同时出队和转移元素
    
    
##### 原则
* 入队时哪个 `tail` 为空，放入哪个栈
* 头部栈为空，尾部栈的副本向它传递元素
* `head - r` 为空时，将 `head` 中的元素倒入到 `head - r`
* `head` 为空时，`head - r` 需要将元素放入到 `head - 1`


